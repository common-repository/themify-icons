var TI_Picker={};!function($){"use strict";$("head").append('<link rel="stylesheet" type="text/css" href="'+themifyIconsPlugin.css+'">'),TI_Picker={target:"",showLightbox(i){var e=TI_Picker;e.loadIconsList((function(){var i=$(document).scrollTop()+80,t=$("#TI_Picker"),c=$("#TI_Picker_overlay");$("body").on("click","#TI_Picker .themify-icons-lightbox_container a:not(.external-link)",(function(i){i.preventDefault(),i.stopPropagation(),e.setIcon($(this).data("icon"))})).on("click","#TI_Picker_overlay, #TI_Picker .themify-icons-close_lightbox",(i=>{i.preventDefault(),i.stopPropagation(),e.closeLightbox()})),c.show(),t.css("top",$(document).height()).show().animate({top:i},600)}))},loadIconsList(i){$("#TI_Picker").length?i():$.ajax({url:themifyIconsPlugin.ajaxurl,type:"POST",data:{action:"ti_get_icons"},success(e){$("body").append(e),i()}})},setIcon(i){TI_Picker.target.val(i).trigger("change"),TI_Picker.closeLightbox()},closeLightbox(){$("#TI_Picker").animate({top:$(document).height()},400,(function(){$("#TI_Picker_overlay").hide(),$(this).hide()}))}},$("body").on("click",".tf_icons_picker",(function(i){i.preventDefault(),TI_Picker.target=this.dataset.target?$(this.dataset.target):$(this).prev(),TI_Picker.showLightbox(TI_Picker.target.val())}))}(jQuery),function($){"use strict";"undefined"!=typeof tinymce&&tinymce.PluginManager.add("themifyicons",(function(i,e){i.addButton("themifyicons",{title:"Themify Icon",image:e+"/images/favicon.png",onclick(){var e=[];jQuery.each(themifyIconsPluginTinymce.fields,(function(t,c){"colorbox"==c.type?c.onaction=function(){var e=i.settings.color_picker_callback;if(e)return function(){var t=this;e.call(i,(i=>{t.value(i).fire("change")}),t.value())}}():"iconpicker"==c.type&&(c={type:"container",label:c.label,layout:"flex",direction:"row",items:[{type:"textbox",name:c.name},{type:"button",text:c.text,onclick(){TI_Picker.target=jQuery(this.$el).prev(),TI_Picker.showLightbox(null)}}]}),e.push(c)})),i.windowManager.open({title:themifyIconsPluginTinymce.menuName,body:e,onSubmit(e){var t=this.toJSON();t.selectedContent=i.selection.getContent();var c=wp.template("themify-icons-plugin");i.insertContent(c(t))}})}})}))}(jQuery);